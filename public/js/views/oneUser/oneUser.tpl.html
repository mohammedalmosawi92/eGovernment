<div class="one-user-page" ng-init="loadData()">
    <div class="container" ng-if="item">
        <div class="row">
            <div class="col-md-12">
                <h1 class="confirm-title">
                    المعلومات الخاصة بهذا المستخدم
                </h1>
            </div>
        </div>
        <div class="row" ng-if="!item.edit">
            <div class="col-md-12">
                <div class="item-name">
                    <span>الاسم الاول: </span>{{item.firstName}}
                </div>
            </div>
        </div>
        <div class="row images-row text-center" ng-if="!item.edit">
            <div class="col-sm-4 col-sm-offset-4">
                <div class="item-info">
                    <div class="info-span">الصورة الشمسية:</div>
                    <img ng-src="/img/{{item.personalImage.split('fakepath\\')[1]}}" class="img-responive">
                </div>
            </div>
            <div class="col-sm-4">
                <div class="item-info">
                    <div class="info-span">صورة الهوية:</div>
                    <img ng-src="/img/{{item.idImage.split('fakepath\\')[1]}}" class="img-responive">
                </div>
            </div>
        </div>
        <div class="row" ng-if="!item.edit">
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">اسم الام:</span> {{item.motherName}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">اسم الاب:</span> {{item.fatherName}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">الشهرة:</span> {{item.lastName}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">الجنس:</span> {{item.sex}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">تاريخ الميلاد:</span> {{item.dob | date:'MM/dd/yyyy'}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">مكان الميلاد:</span> {{item.placeOfBirth}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">رقم الهوية:</span> {{item.idNumber}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">الحالة:</span> {{item.status}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">المذهب:</span> {{item.religion}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">رقم القيد:</span> {{item.RegistrationNum}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">مكان القيد:</span> {{item.RegistrationPlace}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">رقم الهاتف الخيلوي:</span> {{item.cellPhone}}
                </div>
            </div>
            <div class="col-sm-4 col-sm-offset-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">رقم الهاتف:</span> {{item.phone}}
                </div>
            </div>
            <div class="col-sm-4 col-xs-6">
                <div class="item-info">
                    <span class="info-span">عنوان السكن:</span> {{item.address}}
                </div>
            </div>
        </div>
        <!--    Show when you press edit    -->
        <div class="row" ng-if="item.edit">
            <div class="col-md-4 col-md-offset-8">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" placeholder="الاسم الأول" ng-model="item.firstName">
                </div>
            </div>
        </div>
        <div class="row" ng-if="item.edit">
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" ng-model="item.motherName" placeholder="اسم الأم">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" ng-model="item.fatherName" placeholder="اسم الاب">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" ng-model="item.lastName" placeholder="الشهرة">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <select class="form-control" ng-model="item.sex">
                        <option value="ذكر">ذكر</option>
                    <option value="انثى">أنثى</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input class="form-control" ng-model="item.dob" type="date">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" ng-model="item.placeOfBirth" placeholder="مكان الميلاد">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="number" class="form-control" ng-model="item.idNumber" placeholder="رقم الهوية">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <select ng-model="item.status" class="form-control">
                        <option value="اعزب">اعزب</option>
                        <option value="متزوج/ة">متزوج/ة</option>
                        <option value="مطلقة" ng-if="item.sex === 'female'">مطلقة</option>
                        <option value="ارملة" ng-if="item.sex === 'female'">ارملة</option>
                    </select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" ng-model="item.religion" placeholder="المذهب">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="number" class="form-control" ng-model="item.RegistrationNum" placeholder="رقم القيد">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" ng-model="item.RegistrationPlace" placeholder="مكان السجل">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="number" class="form-control" ng-model="item.cellPhone" placeholder=" رقم الهاتف الخليوي">
                </div>
            </div>
            <div class="col-md-4 col-md-offset-4">
                <div class="confirm-input-row">
                    <input type="number" class="form-control" ng-model="item.phone" placeholder="رقم الهاتف الأرضي">
                </div>
            </div>
            <div class="col-md-4">
                <div class="confirm-input-row">
                    <input type="text" class="form-control" ng-model="item.address" placeholder="عنوان السكن">
                </div>
            </div>
        </div>
        <div class="row" ng-if="$index !== list.length - 1">
            <div class="col-xs-4 col-xs-offset-4">
                <div class="line"></div>
            </div>
        </div>
        
        <div class="row text-center" ng-if="reqList.length > 0">
            <div class="col-md-12">
                <h2 class="req-title"> الطلبات اللتي قام بها</h2>
            </div>
        </div>
        <div class="row table-row" ng-if="reqList.length > 0">
            <div class="col-md-6 col-md-offset-3">
                <table class="table table-bordered">
                    <tr>
                        <th class="text-center">التاريخ</th>
                        <th class="text-center">نوع الطلب</th>
                        <th class="text-center">#</th>
                    </tr>
                    <tbody ng-repeat="req in reqList">
                        <tr>
                            <td class="text-center">{{req.date | date:'MM/dd/yyyy'}}</td>
                            <td class="text-center">{{req.type}}</td>
                            <td class="text-center">{{$index + 1}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="confirm-btn">
            <div class="row text-center">
                <div class="col-md-12">
                    <button class="btn btn-success" ng-click="edit()" ng-if="!item.edit">تعديل</button>
                    <button class="btn btn-success" ng-click="saveToDB(item._id, item)" ng-if="item.edit === true && websiteDatabase === true">حفظ</button>
                    <button class="btn btn-success" ng-click="saveToTemp(item._id, item)" ng-if="item.edit === true && websiteDatabase === false">حفظ</button>
                    <button class="btn btn-danger" ng-click="deleteItem(item._id, item)">حذف</button>
                </div>
            </div>
        </div>
    </div>
    <div class="container" ng-if="!item">
        <div class="row">
            <div class="col-md-12">
                <h1>لا تتوفر اي بيانات لهذا المستخدم</h1>
            </div>
        </div>
    </div>
</div>
